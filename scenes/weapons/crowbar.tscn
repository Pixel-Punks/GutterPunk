[gd_scene load_steps=5 format=3 uid="uid://c3lv1vx7mqof7"]

[ext_resource type="Script" path="res://scripts/weapons/weapon.gd" id="1_mimof"]
[ext_resource type="PackedScene" uid="uid://cfaoy8ryqsvvl" path="res://scenes/components/weapon_component.tscn" id="2_72yaw"]
[ext_resource type="SpriteFrames" uid="uid://dmgog7d7otomv" path="res://Assets/Sprites/Items/Equipment/Weapon/Crowbar/crowbar.aseprite" id="3_pcdtv"]
[ext_resource type="PackedScene" uid="uid://bngee20wjrduv" path="res://scenes/weapons/crowbar_attack.tscn" id="4_3nhi2"]

[node name="CrowBar" type="Node2D" node_paths=PackedStringArray("weapon")]
z_index = 1
y_sort_enabled = true
script = ExtResource("1_mimof")
weapon = NodePath("WeaponComponent")

[node name="WeaponComponent" parent="." node_paths=PackedStringArray("hurtbox", "animated_sprites", "weapon_attack") instance=ExtResource("2_72yaw")]
position = Vector2(79, 1)
hurtbox = NodePath("Area2D/CollisionShape2D")
animated_sprites = NodePath("AttackSprites")
weapon_attack = NodePath("../CrowbarAttack")

[node name="Area2D" type="Area2D" parent="WeaponComponent"]
collision_layer = 0
collision_mask = 40

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="WeaponComponent/Area2D"]
position = Vector2(-104, -23)
scale = Vector2(155037, 119528)
polygon = PackedVector2Array(0.000161252, 0.000184057, 0.000161252, 0.000184057, 0.000316054, 0.000384847, 0.000367654, 0.000317917, 0.000367654, 5.01974e-05, 0.000316054, -1.67325e-05, 0.000161252, 0.000184057)

[node name="AttackSprites" type="AnimatedSprite2D" parent="WeaponComponent"]
position = Vector2(-63, -1)
rotation = 1.5708
sprite_frames = ExtResource("3_pcdtv")
animation = &"LTR"
autoplay = "LTR"
frame = 6
frame_progress = 1.0
metadata/_aseprite_wizard_interface_config_ = {
"layer_section": false,
"output_section": true
}

[node name="CrowbarAttack" parent="." instance=ExtResource("4_3nhi2")]
damage = 10
knockback = 2
attacks_per_seconds = 10.0

[connection signal="area_entered" from="WeaponComponent/Area2D" to="WeaponComponent" method="_on_area_2d_area_entered"]
