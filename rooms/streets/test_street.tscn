[gd_scene load_steps=7 format=3 uid="uid://bl21ahltktemb"]

[ext_resource type="Script" path="res://scripts/maps/street_nav.gd" id="1_nwoih"]
[ext_resource type="PackedScene" uid="uid://yqfmkglmfrmn" path="res://rooms/streets/street_up.tscn" id="2_ktqel"]
[ext_resource type="PackedScene" uid="uid://c8w2a75gykdsd" path="res://rooms/streets/street_down.tscn" id="3_i76ep"]
[ext_resource type="PackedScene" uid="uid://cdbljjtd7k114" path="res://rooms/streets/middle_street_1.tscn" id="4_y0rq3"]
[ext_resource type="PackedScene" uid="uid://b0am5qxavi3ic" path="res://rooms/shop/shop.tscn" id="5_cpc78"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_o67wm"]
vertices = PackedVector2Array(686, 113, 693, 1108, 113, 1095, 106, 106)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(16, 16, 776, 24, 784, 1200, 24, 1184)])
source_geometry_group_name = &"navigation_polygon_source_group"
cell_size = 30.0
agent_radius = 90.0

[node name="TestStreet" type="Node2D"]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." node_paths=PackedStringArray("middle_streets")]
navigation_polygon = SubResource("NavigationPolygon_o67wm")
navigation_layers = 32
script = ExtResource("1_nwoih")
upper_street = ExtResource("2_ktqel")
middle_streets = [NodePath("middle_street_1")]
lower_street = ExtResource("3_i76ep")

[node name="middle_street_1" parent="NavigationRegion2D" instance=ExtResource("4_y0rq3")]

[node name="shop" parent="." instance=ExtResource("5_cpc78")]
position = Vector2(4000, -128)

[connection signal="bake_finished" from="NavigationRegion2D" to="NavigationRegion2D" method="_on_bake_finished"]
[connection signal="child_exiting_tree" from="NavigationRegion2D" to="NavigationRegion2D" method="_on_child_exiting_tree"]
